{"version":3,"file":"html.js","sourceRoot":"","sources":["../../../src/formatter/builtin/html.ts"],"names":[],"mappings":";;;;;AAAA,yCAAqC;AACrC,6CAAsC;AACtC,8EAAyD;AACzD,8DAAoC;AAGpC,kBAAe;IACb,IAAI,EAAE,WAAW;IACjB,SAAS,CAAC,EAAE,EAAE,EAAE,KAAK,EAAE;QACrB,MAAM,UAAU,GAAG,IAAI,wBAAkB,CACvC,IAAA,qBAAU,EAAC,0BAA0B,EAAE,EAAE,GAAG,EAAE,SAAS,EAAE,CAAC;YACxD,gBAAgB,EAClB,IAAA,qBAAU,EAAC,0BAA0B,EAAE,EAAE,GAAG,EAAE,SAAS,EAAE,CAAC;YACxD,eAAe,CAClB,CAAA;QACD,EAAE,CAAC,SAAS,EAAE,CAAC,OAAO,EAAE,EAAE,CAAC,UAAU,CAAC,KAAK,CAAC,OAAO,CAAC,CAAC,CAAA;QACrD,UAAU,CAAC,EAAE,CAAC,MAAM,EAAE,CAAC,KAAK,EAAE,EAAE,CAAC,KAAK,CAAC,KAAK,CAAC,CAAC,CAAA;QAE9C,OAAO,KAAK,IAAI,EAAE;YAChB,UAAU,CAAC,GAAG,EAAE,CAAA;YAChB,MAAM,IAAA,qBAAS,EAAC,sBAAQ,CAAC,CAAC,UAAU,CAAC,CAAA;QACvC,CAAC,CAAA;IACH,CAAC;IACD,aAAa,EAAE,uBAAuB;CACb,CAAA","sourcesContent":["import { promisify } from 'node:util'\nimport { finished } from 'node:stream'\nimport CucumberHtmlStream from '@cucumber/html-formatter'\nimport resolvePkg from 'resolve-pkg'\nimport { FormatterPlugin } from '../../plugin'\n\nexport default {\n  type: 'formatter',\n  formatter({ on, write }) {\n    const htmlStream = new CucumberHtmlStream(\n      resolvePkg('@cucumber/html-formatter', { cwd: __dirname }) +\n        '/dist/main.css',\n      resolvePkg('@cucumber/html-formatter', { cwd: __dirname }) +\n        '/dist/main.js'\n    )\n    on('message', (message) => htmlStream.write(message))\n    htmlStream.on('data', (chunk) => write(chunk))\n\n    return async () => {\n      htmlStream.end()\n      await promisify(finished)(htmlStream)\n    }\n  },\n  documentation: 'Outputs a HTML report',\n} satisfies FormatterPlugin\n"]}